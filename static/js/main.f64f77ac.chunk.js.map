{"version":3,"sources":["components/loader/loader.module.css","components/coin/coin.module.css","components/coin-list/coin-animation.module.css","redux/utils.js","redux/selectors.js","components/coin/coin.js","redux/actions.js","redux/constants.js","components/coin-list/coin-list.js","components/loader/loader.js","components/search-list/search-list.js","hooks/use-form.js","components/coin-search/coin-search.js","components/app/app.js","redux/reducer/userList.js","redux/reducer/coinList.js","redux/reducer/index.js","redux/middleware/api.js","redux/store.js","redux/middleware/localStorage.js","redux/middleware/logger.js","index.js"],"names":["module","exports","selector","arrToMap","arr","reduce","acc","item","name","sort","field","slice","a","b","idSelector","_","props","id","userCoinsLoadedSelector","state","userList","loaded","coinsSelector","coinList","entities","userCoinsSelector","coinsIdSelector","createSelector","Object","keys","coinSelector","defaultValue","entity","getById","findMatchesSelector","entitiesArr","find","toLowerCase","coins","search","filter","elem","match","symbol","connect","createStructuredSelector","coin","addCoin","coinId","type","payload","setData","deleteCoin","index","React","memo","searchFlag","flagUserList","useState","showMessage","setShowMessage","priceUsd","CSSTransition","in","timeout","classNames","styles","onExited","Card","bg","text","className","Header","Body","Title","Text","flag","Button","onClick","variant","loadUserCoins","getData","useEffect","Col","Badge","TransitionGroup","map","key","animationStyles","Loader","loader","bounce1","bounce2","initialValues","values","setValues","setValue","value","onChange","ev","target","reset","handlers","useForm","Form","onSubmit","preventDefault","Group","Control","placeholder","checked","setChecked","ButtonGroup","toggle","ToggleButton","size","loading","loadCoins","CallAPI","Container","Row","initialState","error","combineReducers","action","produce","draft","response","LOAD_COINS","localData","includes","push","console","log","splice","requestOptions","method","json","gzip","enhancer","applyMiddleware","store","next","rest","localStorage","getItem","split","getState","length","setItem","clear","postData","fetch","then","result","res","data","catch","err","message","createStore","reducer","composeWithDevTools","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f64f77ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__1jBSv\",\"bounce1\":\"loader_bounce1__3Yh1_\",\"bounce2\":\"loader_bounce2__1IET0\",\"sk-bounce\":\"loader_sk-bounce__2bVK7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"coin_enter__1MqdD\",\"enterActive\":\"coin_enterActive__3lrDn\",\"exit\":\"coin_exit__3EuG3\",\"exitActive\":\"coin_exitActive__1kGUn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"coin-animation_enter__ymjNI\",\"enterActive\":\"coin-animation_enterActive__29p4C\",\"exit\":\"coin-animation_exit__1nX7G\",\"exitActive\":\"coin-animation_exitActive__eiQSp\"};","import { createSelector } from 'reselect';\n\n\nexport const arrToMap = (arr) =>\n  arr.reduce((acc, item) => ({ ...acc, [item.name]: item }), {});\n\n\n\nexport const sort = (field,arr) =>{\n    return arr.slice().sort((a, b) => {\n       return  +b[field] - +a[field]\n    })\n}\n\n\nconst idSelector = (_, props) => props.id;\n\nexport const getById = (selector, defaultValue) =>\n  createSelector(\n    selector,\n    idSelector,\n    (entity, id) => entity[id] || defaultValue\n  );\n\nexport const mapToArray = (selector) => createSelector(selector, Object.keys);\n\n\n// const sort = (arr,field) =>\n//     createSelector(\n//         (_, arr) => arr,\n//         (field) => field,\n//         (arr,field) =>{\n//             console.log(field,\"update\",arr)\n//             return arr.slice().sort((a, b) =>{\n//                 return a[field] > b[field] ? -1 : 1\n//             });\n//         }\n//     );","import { createSelector } from 'reselect';\nimport {mapToArray,getById, arrToMap} from \"./utils\";\n\n\nexport const coinsLoadingSelector = (state) => state.coinList.loading;\nexport const coinsLoadedSelector = (state) => state.coinList.loaded;\n\nexport const userCoinsLoadedSelector = (state) => state.userList.loaded;\n\nconst coinsSelector = (state) => state.coinList.entities;\nexport const coinsArrSelector = (state) => state.coinList.entitiesArr;\n\nexport const userCoinsSelector = (state) => state.userList.entities;\n\nexport const coinsIdSelector = mapToArray(coinsSelector);\nexport const coinSelector = getById(coinsSelector);\n\n\nexport const findMatchesSelector= createSelector(\n    coinsArrSelector,\n    (_, { find }) => find.toLowerCase(),\n    (coins, find) => {\n        const search = coins.filter(( elem )=> (\n            elem.id.toLowerCase().match(find) || elem.symbol.toLowerCase().match(find)\n        ));\n       return  Object.keys(arrToMap(search));\n});","import React, {useState} from 'react';\nimport { createStructuredSelector } from 'reselect';\nimport { connect } from 'react-redux';\nimport styles from './coin.module.css';\nimport {coinSelector} from \"../../redux/selectors\";\nimport {addCoin,deleteCoin} from \"../../redux/actions\";\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport { CSSTransition } from 'react-transition-group';\n\nconst Coin = ({ coin, searchFlag, addCoin, deleteCoin, index, flagUserList }) => {\n    const [showMessage, setShowMessage] = useState(true);\n    if(!coin) return null\n    const{ symbol, name, priceUsd } = coin;\n    return (\n        <CSSTransition\n            in={showMessage}\n            timeout={300}\n            classNames={styles}\n            onExited={() => setShowMessage(true)}\n        >\n              <Card\n                  bg={!searchFlag ? 'dark' : null }\n                  text={!searchFlag ? 'white' : null }\n                  className=\"mb-2\"\n              >\n                  <Card.Header>{name}</Card.Header>\n                  <Card.Body>\n                      <Card.Title>{symbol}</Card.Title>\n                      <Card.Text>{priceUsd}</Card.Text>\n                      {searchFlag && !coin.flag  ? (\n                              <Button onClick={() => {\n                                  addCoin(coin.name);\n                              }} variant=\"primary\">Like</Button>\n                      ):null}\n                      {coin.flag && searchFlag ? (\n                          <Button onClick={() => {\n                              addCoin(coin.name);\n                              setShowMessage(false);\n                          }} variant=\"success\">Like</Button>\n                      ):null}\n                      {flagUserList ? (\n                              <Button onClick={() => deleteCoin(index,coin.name)} variant=\"danger\">Delete</Button>\n                      ):null}\n\n                  </Card.Body>\n              </Card>\n        </CSSTransition>\n  );\n};\n\n\nexport default connect(\n    createStructuredSelector({\n        coin: coinSelector,\n    }),({ addCoin , deleteCoin })\n)(React.memo(Coin));\n\n\n","import {\n    LOAD_COINS,\n    ADD_COIN,\n    DELETE_COIN,\n    SORT_BY,\n    LOAD_USER_COINS,\n} from './constants';\n\n\nexport const loadCoins = () => ({\n  type: LOAD_COINS,\n  CallAPI: 'https://api.coincap.io/v2/assets',\n});\nexport const loadUserCoins = () => ({\n    type: LOAD_USER_COINS,\n    getData:true,\n});\nexport const addCoin = (coinId) => ({\n    type: ADD_COIN,\n    payload: {coinId},\n    setData:true,\n});\nexport const deleteCoin = (index,coinId) => ({\n    type: DELETE_COIN,\n    payload: {index,coinId},\n    setData:true,\n});\nexport const sort = (field) => ({\n    type:  SORT_BY,\n    payload: field,\n});","export const LOAD_COINS = 'LOAD_COINS';\nexport const ADD_COIN = 'ADD_COIN'\nexport const DELETE_COIN = 'DELETE_COIN'\n\nexport const LOAD_USER_COINS = 'LOAD_USER_COINS';\n\nexport const SORT_BY = 'SORT_BY'\nexport const PRICE = 'priceUsd'\nexport const CHANGE = 'changePercent24Hr'\n\nexport const REQUEST = '_REQUEST';\nexport const SUCCESS = '_SUCCESS';\nexport const FAILURE = '_FAILURE';\n","import React, {useEffect} from 'react';\nimport {coinsIdSelector, findMatchesSelector,userCoinsLoadedSelector, userCoinsSelector} from \"../../redux/selectors\";\nimport { connect } from 'react-redux';\nimport Coin from \"../coin\";\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\nimport animationStyles from \"./coin-animation.module.css\";\nimport Badge from \"react-bootstrap/Badge\";\nimport Col from 'react-bootstrap/Col';\nimport {loadUserCoins} from \"../../redux/actions\";\n\nconst CoinList = ({\n                      coins,\n                      searchFlag,\n                      flagUserList,\n                      loaded,\n                      loadUserCoins,\n                         }) => {\n    useEffect(() => {\n        if ( flagUserList && !loaded ) {loadUserCoins()}\n    }, []); // eslint-disable-line\n\n    if (flagUserList){\n    return (\n        <Col>\n            <h2 className=\"text-center\">\n                <Badge  variant=\"light\">User List</Badge>\n            </h2>\n            <TransitionGroup>\n                {coins.map((id,index) => (\n                    <CSSTransition key={id} timeout={200} classNames={animationStyles}>\n                        <Coin key={id} id={id} index={index} flagUserList={true}/>\n                    </CSSTransition>\n                ))}\n            </TransitionGroup>\n        </Col>\n    )\n}\nreturn (\n    <Col>\n        {!searchFlag ? (\n                <h2 className=\"text-center\">\n                    <Badge  variant=\"light\">TOP 100</Badge>\n                </h2>\n        ):null}\n\n        {coins.map((id) => (\n                <Coin key={id} id={id} searchFlag={searchFlag}/>\n        ))}\n    </Col>\n)\n}\n\n\nconst mapStateToProps = (state,props) => {\n    if(props.searchFlag){\n        return {\n            coins: findMatchesSelector(state,props)\n        }\n    }\n    if(props.flagUserList){\n        return {\n            coins: userCoinsSelector(state,props),\n            loaded: userCoinsLoadedSelector(state),\n        }\n    }\n    return {\n        coins: coinsIdSelector(state,props),\n    }\n}\n\nexport default connect(\n    mapStateToProps,{ loadUserCoins }\n)(React.memo(CoinList));\n\n","import React from 'react';\nimport styles from './loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={styles.loader}>\n      <div className={styles.bounce1} />\n      <div className={styles.bounce2} />\n    </div>\n  );\n}\n\nLoader.propTypes = {};\n\nexport default Loader;\n","import React from 'react';\nimport useForm from '../../hooks/use-form';\nimport { connect } from 'react-redux';\nimport Form from 'react-bootstrap/Form';\nimport CoinList from \"../coin-list\";\n\n\nconst SearchList = () => {\n\n\n  const { values, handlers } = useForm({id:0});\n\n  const handleSubmit = (ev) => {\n    ev.preventDefault();\n  };\n  return (\n    <div>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group>\n            <Form.Control\n                placeholder={\"Search\"  }\n                {...handlers.id}\n            />\n        </Form.Group>\n      </Form>\n        {values.id ? (\n            <CoinList find={values.id} searchFlag={true}/>\n\n        ):null}\n\n    </div>\n  );\n};\n\n\nexport default connect(null, {})(SearchList);\n","import { useState } from 'react';\n\nexport default (initialValues = {}) => {\n  const [values, setValues] = useState(initialValues);\n\n  const setValue = (key, value) => setValues({ ...values, [key]: value });\n\n  const onChange = (key) => (ev) =>\n    setValue(key, ev.target ? ev.target.value : ev);\n  return {\n    values,\n    reset: () => setValues(initialValues),\n    handlers: Object.keys(values).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: { onChange: onChange(key) },\n      }),\n      {}\n    ),\n  };\n};\n","import React , {useState} from 'react';\nimport { connect } from 'react-redux';\nimport {sort} from \"../../redux/actions\";\nimport SearchList from \"../search-list\";\nimport { PRICE , CHANGE } from '../../redux/constants';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport Badge from 'react-bootstrap/Badge';\nimport Col from 'react-bootstrap/Col';\n\nfunction CoinSearch({\n                        sort,\n                         }) {\n    const [checked, setChecked] = useState(false);\n    const onChange = (ev) => {\n        setChecked({[ev.target.value]:true})\n        sort(ev.target.value)\n    }\nreturn (\n    <Col>\n        <h2 className=\"text-center\">\n            <Badge  variant=\"light\">Search</Badge>\n        </h2>\n        <ButtonGroup toggle>\n                <ToggleButton\n                    type=\"radio\"\n                    variant=\"secondary\"\n                    name=\"radio\"\n                    checked={checked[PRICE]}\n                    value={PRICE}\n                    size=\"sm\"\n                    onChange={onChange}\n                >\n                    sort by price\n                </ToggleButton>\n                <ToggleButton\n                    size=\"sm\"\n                    type=\"radio\"\n                    variant=\"secondary\"\n                    name=\"radio\"\n                    checked={checked[CHANGE]}\n                    value={CHANGE}\n                    onChange={onChange}\n                >\n                    sort by change\n                </ToggleButton>\n        </ButtonGroup>\n        <SearchList/>\n    </Col>\n)\n}\n\nexport default connect(\n   null,{sort}\n)(React.memo(CoinSearch));\n\n","import React, {useEffect} from 'react';\nimport CoinList from \"../coin-list\";\nimport Row from 'react-bootstrap/Row';\nimport Container from 'react-bootstrap/Container';\nimport {connect} from \"react-redux\";\nimport {createStructuredSelector} from \"reselect\";\nimport {coinsLoadedSelector, coinsLoadingSelector} from \"../../redux/selectors\";\nimport {loadCoins} from \"../../redux/actions\";\nimport Loader from \"../loader\";\nimport CoinSearch from \"../coin-search\";\n\nconst App = ({loading, loaded, loadCoins}) => {\n    useEffect(() => {\n        if (!loading && !loaded) loadCoins();\n    }, []); // eslint-disable-line\n\n    if (loading || !loaded) return <Loader />;\n  return (\n      <Container>\n          <Row>\n             <CoinList/>\n              <CoinSearch/>\n              <CoinList flagUserList={true}/>\n          </Row>\n      </Container>\n  );\n};\n\nexport default connect(\n    createStructuredSelector({\n        loading: coinsLoadingSelector,\n        loaded: coinsLoadedSelector,\n    }),\n    { loadCoins }\n)(App);\n","import produce from 'immer';\nimport { ADD_COIN, DELETE_COIN, LOAD_USER_COINS} from '../constants';\n\nconst initialState = {\n  loaded: null,\n  entities:[],\n};\n\nexport default (state = initialState, action) =>\n    produce(state, (draft) => {\n      const { type, localData=[], payload} = action;\n\n      switch (type) {\n\n          case LOAD_USER_COINS: {\n              draft.loaded = true;\n              draft.entities = [ ...draft.entities, ...localData ];\n              break;\n          }\n          case ADD_COIN: {\n              if (draft.entities.includes(payload.coinId)) {\n                  break;\n              }\n              draft.entities.push(payload.coinId);\n              break;\n          }\n          case DELETE_COIN: {\n              console.log()\n              draft.entities.splice(payload.index, 1);\n              break;\n          }\n\n        default:\n          return;\n      }\n    });\n","import produce from 'immer';\nimport { arrToMap, sort } from '../utils';\nimport {LOAD_COINS, REQUEST, SUCCESS, FAILURE, ADD_COIN, DELETE_COIN, SORT_BY } from '../constants';\n\nconst initialState = {\n  loading:null ,\n  loaded: null,\n  error: null,\n  entities: {},\n  entitiesArr:[],\n};\n\nexport default (state = initialState, action) =>\n    produce(state, (draft) => {\n      const { type, response, error, payload} = action;\n\n      switch (type) {\n        case LOAD_COINS + REQUEST: {\n          draft.loading = true;\n          break;\n        }\n        case LOAD_COINS + SUCCESS: {\n          draft.loading = false;\n          draft.loaded = true;\n          draft.entities = { ...draft.entities, ...arrToMap(response) };\n          draft.entitiesArr = [ ...draft.entitiesArr, ...response ];\n          break;\n        }\n        case LOAD_COINS + FAILURE: {\n          draft.loading = false;\n          draft.loaded = false;\n          draft.error = error;\n          break;\n        }\n        case ADD_COIN: {\n           draft.entities[payload.coinId].flag=true;\n          break;\n        }\n        case DELETE_COIN: {\n          draft.entities[payload.coinId].flag=false;\n          break;\n        }\n        case SORT_BY: {\n          draft.entitiesArr = sort(payload,state.entitiesArr);\n          break;\n        }\n        default:\n          return;\n      }\n    });\n","import { combineReducers } from 'redux';\nimport userList from \"./userList\";\nimport coinList from './coinList';\n\nexport default combineReducers({\n  coinList,\n  userList,\n});\n","import { FAILURE, REQUEST, SUCCESS } from '../constants';\n\nconst requestOptions = {\n  method: 'GET',\n  json: true,\n  gzip: true\n};\n\n\nexport default (store) => (next) => async (action) => {\n  if (!action.CallAPI) return next(action);\n\n  const { CallAPI, type, postData, ...rest } = action;\n\n  next({ ...rest, type: type + REQUEST });\n\n  try {\n\n    const response = await fetch(CallAPI,  requestOptions).then(async (result) => {\n      const res = await result.json();\n      if (res.data ) return res.data;\n      throw res;\n    }).catch((err) => {\n      console.log('API call error:', err.message);\n      throw  err.message;\n    })\n\n    return next({ ...rest, type: type + SUCCESS, response });\n  } catch (err) {\n\n    return  next({ ...rest, type: type + FAILURE, err });\n  }\n};\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducer from './reducer';\nimport logger from './middleware/logger';\nimport api from './middleware/api';\nimport localStorage from \"./middleware/localStorage\";\n\nconst enhancer = applyMiddleware(\n    localStorage,\n    api,\n    logger,\n);\n\nexport default createStore(reducer, composeWithDevTools(enhancer));\n","\n\n\nexport default (store) => (next) => (action) => {\n\n  if (!action.getData && !action.setData){\n     return next(action);\n  }\n  if (action.getData) {\n    const { getData, ...rest } = action;\n    const localData = localStorage.getItem('userList')?.split(',');\n    next({...rest, localData});\n  }\n  if (action.setData) {\n    const { setData, ...rest } = action;\n    next({...rest});\n    const { userList } = store.getState()\n   if(userList.entities.length){\n     localStorage.setItem('userList', userList.entities);\n   }else{\n       localStorage.clear();\n   }\n  }\n\n};\n","export default (store) => (next) => (action) => {\n  // console.log('before :', store.getState());\n  // console.log('action :', action);\n  next(action);\n  // console.log('after :', store.getState());\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './components/app';\n\nimport store from './redux/store';\n\n// DEV\nwindow.store = store;\n\nReactDOM.render(\n    <Provider store={store}>\n                <App />\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}