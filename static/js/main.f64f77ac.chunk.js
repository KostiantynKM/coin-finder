(this["webpackJsonpcoin-finder"]=this["webpackJsonpcoin-finder"]||[]).push([[0],{26:function(e,t,n){e.exports={loader:"loader_loader__1jBSv",bounce1:"loader_bounce1__3Yh1_",bounce2:"loader_bounce2__1IET0","sk-bounce":"loader_sk-bounce__2bVK7"}},37:function(e,t,n){e.exports={enter:"coin_enter__1MqdD",enterActive:"coin_enterActive__3lrDn",exit:"coin_exit__3EuG3",exitActive:"coin_exitActive__1kGUn"}},38:function(e,t,n){e.exports={enter:"coin-animation_enter__ymjNI",enterActive:"coin-animation_enterActive__29p4C",exit:"coin-animation_exit__1nX7G",exitActive:"coin-animation_exitActive__eiQSp"}},45:function(e,t,n){e.exports=n(59)},55:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(11),o=n.n(i),l=n(6),u=(n(55),n(56),n(8)),s=n(9),d=n(5),f=function(e){return e.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.name,t))}),{})},b=function(e,t){return t.slice().sort((function(t,n){return+n[e]-+t[e]}))},m=function(e,t){return t.id},O=function(e){return e.userList.loaded},p=function(e){return e.coinList.entities},E=function(e){return e.userList.entities},v=(a=p,Object(u.a)(a,Object.keys)),j=function(e,t){return Object(u.a)(e,m,(function(e,n){return e[n]||t}))}(p),g=Object(u.a)((function(e){return e.coinList.entitiesArr}),(function(e,t){return t.find.toLowerCase()}),(function(e,t){var n=e.filter((function(e){return e.id.toLowerCase().match(t)||e.symbol.toLowerCase().match(t)}));return Object.keys(f(n))})),_=n(15),h=n(37),C=n.n(h),y=n(19),D=n(18),k=n(60),L=Object(l.b)(Object(u.b)({coin:j}),{addCoin:function(e){return{type:"ADD_COIN",payload:{coinId:e},setData:!0}},deleteCoin:function(e,t){return{type:"DELETE_COIN",payload:{index:e,coinId:t},setData:!0}}})(c.a.memo((function(e){var t=e.coin,n=e.searchFlag,a=e.addCoin,i=e.deleteCoin,o=e.index,l=e.flagUserList,u=Object(r.useState)(!0),s=Object(_.a)(u,2),d=s[0],f=s[1];if(!t)return null;var b=t.symbol,m=t.name,O=t.priceUsd;return c.a.createElement(k.a,{in:d,timeout:300,classNames:C.a,onExited:function(){return f(!0)}},c.a.createElement(y.a,{bg:n?null:"dark",text:n?null:"white",className:"mb-2"},c.a.createElement(y.a.Header,null,m),c.a.createElement(y.a.Body,null,c.a.createElement(y.a.Title,null,b),c.a.createElement(y.a.Text,null,O),n&&!t.flag?c.a.createElement(D.a,{onClick:function(){a(t.name)},variant:"primary"},"Like"):null,t.flag&&n?c.a.createElement(D.a,{onClick:function(){a(t.name),f(!1)},variant:"success"},"Like"):null,l?c.a.createElement(D.a,{onClick:function(){return i(o,t.name)},variant:"danger"},"Delete"):null)))}))),S=n(61),A=n(38),I=n.n(A),x=n(21),N=n(13),U=Object(l.b)((function(e,t){return t.searchFlag?{coins:g(e,t)}:t.flagUserList?{coins:E(e),loaded:O(e)}:{coins:v(e,t)}}),{loadUserCoins:function(){return{type:"LOAD_USER_COINS",getData:!0}}})(c.a.memo((function(e){var t=e.coins,n=e.searchFlag,a=e.flagUserList,i=e.loaded,o=e.loadUserCoins;return Object(r.useEffect)((function(){a&&!i&&o()}),[]),a?c.a.createElement(N.a,null,c.a.createElement("h2",{className:"text-center"},c.a.createElement(x.a,{variant:"light"},"User List")),c.a.createElement(S.a,null,t.map((function(e,t){return c.a.createElement(k.a,{key:e,timeout:200,classNames:I.a},c.a.createElement(L,{key:e,id:e,index:t,flagUserList:!0}))})))):c.a.createElement(N.a,null,n?null:c.a.createElement("h2",{className:"text-center"},c.a.createElement(x.a,{variant:"light"},"TOP 100")),t.map((function(e){return c.a.createElement(L,{key:e,id:e,searchFlag:n})})))}))),w=n(41),T=n(40),R=n(26),P=n.n(R);var F=function(){return c.a.createElement("div",{className:P.a.loader},c.a.createElement("div",{className:P.a.bounce1}),c.a.createElement("div",{className:P.a.bounce2}))},B=n(27),G=Object(l.b)(null,{})((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),n=Object(_.a)(t,2),a=n[0],c=n[1],i=function(e,t){return c(Object(d.a)(Object(d.a)({},a),{},Object(s.a)({},e,t)))},o=function(e){return function(t){return i(e,t.target?t.target.value:t)}};return{values:a,reset:function(){return c(e)},handlers:Object.keys(a).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t,{onChange:o(t)}))}),{})}}({id:0}),t=e.values,n=e.handlers;return c.a.createElement("div",null,c.a.createElement(B.a,{onSubmit:function(e){e.preventDefault()}},c.a.createElement(B.a.Group,null,c.a.createElement(B.a.Control,Object.assign({placeholder:"Search"},n.id)))),t.id?c.a.createElement(U,{find:t.id,searchFlag:!0}):null)})),z=n(39),H=n(32);var Q=Object(l.b)(null,{sort:function(e){return{type:"SORT_BY",payload:e}}})(c.a.memo((function(e){var t=e.sort,n=Object(r.useState)(!1),a=Object(_.a)(n,2),i=a[0],o=a[1],l=function(e){o(Object(s.a)({},e.target.value,!0)),t(e.target.value)};return c.a.createElement(N.a,null,c.a.createElement("h2",{className:"text-center"},c.a.createElement(x.a,{variant:"light"},"Search")),c.a.createElement(z.a,{toggle:!0},c.a.createElement(H.a,{type:"radio",variant:"secondary",name:"radio",checked:i.priceUsd,value:"priceUsd",size:"sm",onChange:l},"sort by price"),c.a.createElement(H.a,{size:"sm",type:"radio",variant:"secondary",name:"radio",checked:i.changePercent24Hr,value:"changePercent24Hr",onChange:l},"sort by change")),c.a.createElement(G,null))}))),Y=Object(l.b)(Object(u.b)({loading:function(e){return e.coinList.loading},loaded:function(e){return e.coinList.loaded}}),{loadCoins:function(){return{type:"LOAD_COINS",CallAPI:"https://api.coincap.io/v2/assets"}}})((function(e){var t=e.loading,n=e.loaded,a=e.loadCoins;return Object(r.useEffect)((function(){t||n||a()}),[]),t||!n?c.a.createElement(F,null):c.a.createElement(T.a,null,c.a.createElement(w.a,null,c.a.createElement(U,null),c.a.createElement(Q,null),c.a.createElement(U,{flagUserList:!0})))})),J=n(12),M=n(42),q=n(17),K=n(25),V={loaded:null,entities:[]},W={loading:null,loaded:null,error:null,entities:{},entitiesArr:[]},X=Object(J.combineReducers)({coinList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return Object(K.a)(e,(function(n){var a=t.type,r=t.response,c=t.error,i=t.payload;switch(a){case"LOAD_COINS_REQUEST":n.loading=!0;break;case"LOAD_COINS_SUCCESS":n.loading=!1,n.loaded=!0,n.entities=Object(d.a)(Object(d.a)({},n.entities),f(r)),n.entitiesArr=[].concat(Object(q.a)(n.entitiesArr),Object(q.a)(r));break;case"LOAD_COINS_FAILURE":n.loading=!1,n.loaded=!1,n.error=c;break;case"ADD_COIN":n.entities[i.coinId].flag=!0;break;case"DELETE_COIN":n.entities[i.coinId].flag=!1;break;case"SORT_BY":n.entitiesArr=b(i,e.entitiesArr);break;default:return}}))},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return Object(K.a)(e,(function(e){var n=t.type,a=t.localData,r=void 0===a?[]:a,c=t.payload;switch(n){case"LOAD_USER_COINS":e.loaded=!0,e.entities=[].concat(Object(q.a)(e.entities),Object(q.a)(r));break;case"ADD_COIN":if(e.entities.includes(c.coinId))break;e.entities.push(c.coinId);break;case"DELETE_COIN":console.log(),e.entities.splice(c.index,1);break;default:return}}))}}),Z=n(23),$=n.n(Z),ee=n(22),te=n(33),ne={method:"GET",json:!0,gzip:!0},ae=Object(J.applyMiddleware)((function(e){return function(t){return function(n){if(!n.getData&&!n.setData)return t(n);if(n.getData){n.getData;var a,r=Object(ee.a)(n,["getData"]),c=null===(a=localStorage.getItem("userList"))||void 0===a?void 0:a.split(",");t(Object(d.a)(Object(d.a)({},r),{},{localData:c}))}if(n.setData){n.setData;var i=Object(ee.a)(n,["setData"]);t(Object(d.a)({},i));var o=e.getState().userList;o.entities.length?localStorage.setItem("userList",o.entities):localStorage.clear()}}}}),(function(e){return function(e){return function(){var t=Object(te.a)($.a.mark((function t(n){var a,r,c,i;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.CallAPI){t.next=2;break}return t.abrupt("return",e(n));case 2:return a=n.CallAPI,r=n.type,n.postData,c=Object(ee.a)(n,["CallAPI","type","postData"]),e(Object(d.a)(Object(d.a)({},c),{},{type:r+"_REQUEST"})),t.prev=4,t.next=7,fetch(a,ne).then(function(){var e=Object(te.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!(n=e.sent).data){e.next=5;break}return e.abrupt("return",n.data);case 5:throw n;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw console.log("API call error:",e.message),e.message}));case 7:return i=t.sent,t.abrupt("return",e(Object(d.a)(Object(d.a)({},c),{},{type:r+"_SUCCESS",response:i})));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",e(Object(d.a)(Object(d.a)({},c),{},{type:r+"_FAILURE",err:t.t0})));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}}),(function(e){return function(e){return function(t){e(t)}}})),re=Object(J.createStore)(X,Object(M.composeWithDevTools)(ae));window.store=re,o.a.render(c.a.createElement(l.a,{store:re},c.a.createElement(Y,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.f64f77ac.chunk.js.map